@{
    ViewData["Title"] = "New Events";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["NavSection"] = "User";
}

<!-- Scoped styles for UEvents only -->
<style>
    .uevents .form-control, .uevents select {
        background-color: var(--surface-color) !important;
        color: var(--text-color) !important;
        border: 1px solid var(--border-color) !important;
        border-radius: 8px !important;
        padding: 10px 12px !important;
        width: 100%;
    }

        .uevents .form-control::placeholder {
            color: var(--muted-text-color) !important;
        }

        .uevents .form-control:focus, .uevents select:focus {
            outline: none !important;
            border-color: var(--primary-color) !important;
            box-shadow: 0 0 0 0.15rem var(--accent-color) !important;
        }

    /* Status chips */
    .uevents .chip {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid var(--border-color);
        margin-right: 8px;
        margin-bottom: 8px;
    }

    .uevents .chip-available {
        color: var(--success-color);
        border-color: var(--success-color);
    }

    .uevents .chip-participating {
        color: var(--info-color);
        border-color: var(--info-color);
    }

    .uevents .chip-full {
        color: var(--error-color);
        border-color: var(--error-color);
    }

    .uevents .chip-unavailable {
        color: var(--warning-color);
        border-color: var(--warning-color);
    }

    /* Meta list */
    .uevents .meta {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
    }

    .uevents .meta-item {
        font-size: 14px;
        color: var(--muted-text-color);
    }

    /* Card spacing */
    .uevents .event-card {
        height: 100%;
    }

    .uevents .event-actions .btn {
        min-width: 120px;
    }

    /* Dark-mode legibility (view-scoped) */
    .uevents, .uevents .card {
        color: var(--text-color) !important;
    }

        .uevents .text-muted, .uevents .caption {
            color: var(--muted-text-color) !important;
        }
</style>

<div class="uevents">

    <!-- Header / Nav -->
    <div class="d-flex justify-content-between align-items-center mb-16">
        <h1 class="mb-0">New Events</h1>
        <a asp-controller="Home" asp-action="Dashboard" class="btn btn-secondary">← Back to Dashboard</a>
    </div>

    <!-- Controls: Search & Filters -->
    <div class="card shadow p-24 mb-16">
        <div class="row g-3">
            <div class="col-md-6">
                <label for="searchEvents" class="form-label">Search events</label>
                <input id="searchEvents" type="text" class="form-control" placeholder="Search by title, description, or location" />
            </div>
            <div class="col-md-3">
                <label for="sortEvents" class="form-label">Sort by</label>
                <select id="sortEvents" class="form-select">
                    <option value="date">Date</option>
                    <option value="points">Points Reward</option>
                    <option value="duration">Duration</option>
                </select>
            </div>
            <div class="col-md-3 d-flex align-items-end">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="onlyAvailable" />
                    <label class="form-check-label" for="onlyAvailable">Show only available</label>
                </div>
            </div>
        </div>
    </div>

    <!-- Events Grid (exactly 3 demo cards) -->
    <div class="row g-3">

        <!-- PARTICIPATING -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow p-24 event-card">
                <h3 class="mb-8">Event 1</h3>
                <p class="mb-16">Event Description - The quick brown fox jumped over the lazy dog. The quick brown fox jumped over the lazy dog. The quick brown fox jumped over the lazy dog</p>

                <div class="meta mb-16">
                    <div class="meta-item"><strong>Date:</strong> 2025-10-12</div>
                    <div class="meta-item"><strong>Start:</strong> 09:00</div>
                    <div class="meta-item"><strong>Duration:</strong> 2h 00m</div>
                    <div class="meta-item"><strong>Points:</strong> 25 pts</div>
                    <div class="meta-item"><strong>Location:</strong> Greenpoint park</div>
                </div>

                <div class="mb-16">
                    <span class="chip chip-participating">Participating</span>
                </div>

                <div class="d-flex justify-content-between align-items-center event-actions">
                    <button class="btn btn-sm btn-outline-secondary">Leave</button>
                    <div class="caption">You’re currently signed up.</div>
                </div>
            </div>
        </div>

        <!-- AVAILABLE -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow p-24 event-card">
                <h3 class="mb-8">Event 2</h3>
                <p class="mb-16">Event Description - The quick brown fox jumped over the lazy dog. The quick brown fox jumped over the lazy dog. The quick brown fox jumped over the lazy dog</p>

                <div class="meta mb-16">
                    <div class="meta-item"><strong>Date:</strong> 2025-10-18</div>
                    <div class="meta-item"><strong>Start:</strong> 14:00</div>
                    <div class="meta-item"><strong>Duration:</strong> 3h 00m</div>
                    <div class="meta-item"><strong>Points:</strong> 40 pts</div>
                    <div class="meta-item"><strong>Location:</strong> Rondebosch library</div>
                </div>

                <div class="mb-16">
                    <span class="chip chip-available">Available</span>
                </div>

                <div class="d-flex justify-content-between align-items-center event-actions">
                    <button class="btn btn-sm btn-outline-primary">Apply</button>
                    <div class="caption">Spots open • Eligible.</div>
                </div>
            </div>
        </div>

        <!-- FULL -->
        <div class="col-md-6 col-lg-4">
            <div class="card shadow p-24 event-card">
                <h3 class="mb-8">Event 3</h3>
                <p class="mb-16">Event Description - The quick brown fox jumped over the lazy dog. The quick brown fox jumped over the lazy dog. The quick brown fox jumped over the lazy dog</p>

                <div class="meta mb-16">
                    <div class="meta-item"><strong>Date:</strong> 2025-10-22</div>
                    <div class="meta-item"><strong>Start:</strong> 08:00</div>
                    <div class="meta-item"><strong>Duration:</strong> 2h 30m</div>
                    <div class="meta-item"><strong>Points:</strong> 30 pts</div>
                    <div class="meta-item"><strong>Location:</strong> Capetown High </div>
                </div>

                <div class="mb-16">
                    <span class="chip chip-full">Full</span>
                </div>

                <div class="d-flex justify-content-between align-items-center event-actions">
                    <button class="btn btn-sm btn-outline-secondary" disabled>Full</button>
                    <div class="caption">Join list closed.</div>
                </div>
            </div>
        </div>
    </div>
</div>

@* --------------------------------------------------------------------
   TODO: Enable UEvents Functionality
   - Bind upcoming events and compute status per event
   - Show proper actions per status (Apply / Leave / disabled)
   - Implement search/sort/filters and wire Apply/Leave later
--------------------------------------------------------------------- *@
